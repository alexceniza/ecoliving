<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Up — EcoLiving Solutions</title>
    <meta
      name="description"
      content="Subscribe to our newsletter and enroll in sustainability training programs."
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Poppins:wght@500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body class="page">
    <header class="site-header">
      <div class="container header-inner">
        <a class="brand" href="index.html">
          <img src="images/flower logo.png" style="width: 170px; height: auto;" alt="EcoLiving Solutions logo" class="brand-logo" />
        </a>
        <nav class="nav">
          <a href="resources.html">Resources</a>
          <a href="services.html">Services</a>
          <a href="about.html">About</a>
          <a href="contact.html">Connect</a>
          <a href="signup.html">Sign Up</a>
        </nav>
        <div class="header-cta">
          <button
            class="hamburger"
            id="hamburger"
            aria-label="Open menu"
            aria-controls="mobileNav"
            aria-expanded="false"
          >
            <span></span><span></span><span></span>
          </button>
        </div>
      </div>
      <div class="mobile-nav" id="mobileNav">
        <a href="resources.html">Resources</a>
        <a href="services.html">Services</a>
        <a href="about.html">About</a>
        <a href="contact.html">Connect</a>
        <a href="signup.html">Sign Up</a>
      </div>
    </header>

    <section class="features">
      <div class="container">
        <div class="section-head animate-on-scroll">
          <h2>Stay in the loop & <span class="highlight">skill up</span></h2>
          <p>
            Connect, learn, and grow greener — subscribe or join an event with a single sign-up.
          </p>
        </div>

        <div
          class="grid animate-on-scroll"
          style="grid-template-columns: 1fr; justify-items: center"
        >
        <br>
          <div class="feature-card" style="max-width: 600px; width: 100%">
            <div class="f-icon f-leaf"></div>
            <h3>Sign Up</h3>
            <p>Choose your path and enter your details once.</p>

            <!-- Unified form -->
            <form id="eco-unified-form" action="#" method="post" novalidate>
              <div class="field">
                <label for="uf-name" class="label">Full Name</label>
                <input
                  id="uf-name"
                  name="name"
                  type="text"
                  required
                  minlength="2"
                  placeholder="Jane Doe"
                  class="input"
                />
              </div>

              <div class="field">
                <label for="uf-email" class="label">Email</label>
                <input
                  id="uf-email"
                  name="email"
                  type="email"
                  required
                  placeholder="jane@company.com"
                  class="input"
                />
              </div>

              <!-- Dropdown 1: select intent -->
              <div class="field">
                <label for="uf-intent" class="label">I want to</label>
                <select id="uf-intent" name="intent" class="select" required>
                  <option value="" selected>Select an option…</option>
                  <option value="newsletter">
                    Subscribe to the Newsletter
                  </option>
                  <option value="training">
                    Join a Training Program / Event
                  </option>
                </select>
              </div>

              <!-- Dropdown 2: context, driven by first select -->
              <div class="field" id="uf-context-wrap">
                <label for="uf-context" class="label" id="uf-context-label">Choose a newsletter topic</label>
                <select id="uf-context" name="context" class="select" required>
                  <!-- options injected by JS -->
                </select>
              </div>

              <button type="submit" class="btn btn-primary">Submit</button>
              <div
                id="uf-note"
                class="form-note"
                style="display: none; margin-top: 12px"
              ></div>
            </form>
          </div>
        </div>
      </div>
    </section>
    <br>
    <br>
    <footer class="site-footer">
      <div class="container footer-bottom footer-simple">
        <a href="index.html" class="footer-logo-link" aria-label="EcoLiving Solutions">
        <img src="images/flower logo.png" style="width: 110px; height: auto;" alt="EcoLiving Solutions logo" class="footer-brand-logo" />
        </a>
        <span class="footer-copy">© <span id="eco-year"></span> EcoLiving Solutions</span>
      </div>
    </footer>

    <script>
      (function(){var y=document.getElementById('eco-year'); if(y){ y.textContent = new Date().getFullYear(); }})();

      <!-- Inline helper for the unified form -->
      (function () {
        const form = document.getElementById("eco-unified-form");
        if (!form) return;

        const nameEl = document.getElementById("uf-name");
        const emailEl = document.getElementById("uf-email");
        const intentEl = document.getElementById("uf-intent");
        const ctxEl = document.getElementById("uf-context");
        const ctxLabel = document.getElementById("uf-context-label");
        const note = document.getElementById("uf-note");

        const newsletterOpts = [
          { v: "all", t: "All Updates" },
          { v: "home", t: "Home & Lifestyle Tips" },
          { v: "business", t: "Business Sustainability" },
          { v: "events", t: "Local Events" },
        ];

        const trainingOpts = [
          { v: "audit", t: "Home Energy Audit Basics" },
          { v: "champ", t: "Workplace Sustainability Champions" },
          { v: "zerowaste", t: "Municipal Zero‑Waste Bootcamp" },
          { v: "ecosummit", t: "Eco Summit (Event)" },
        ];

        function setOptions(list, labelText) {
          ctxLabel.textContent = labelText;
          ctxEl.innerHTML = "";
          ctxEl.insertAdjacentHTML(
            "beforeend",
            '<option value="" selected>Select an option…</option>'
          );
          list.forEach((o) => {
            ctxEl.insertAdjacentHTML(
              "beforeend",
              '<option value="' + o.v + '">' + o.t + "</option>"
            );
          });
        }

        // default state: newsletter topics
        setOptions(newsletterOpts, "Choose a newsletter topic");

        intentEl.addEventListener("change", () => {
          if (intentEl.value === "training") {
            setOptions(trainingOpts, "Choose a training program / event");
          } else {
            setOptions(newsletterOpts, "Choose a newsletter topic");
          }
        });

        function validEmail(v) {
          return /^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(v);
        }

        form.addEventListener("submit", (e) => {
          e.preventDefault();
          if (!nameEl.value.trim() || nameEl.value.trim().length < 2) {
            nameEl.focus();
            return;
          }
          if (!validEmail(emailEl.value.trim())) {
            emailEl.focus();
            return;
          }
          if (!intentEl.value) {
            intentEl.focus();
            return;
          }
          if (!ctxEl.value) {
            ctxEl.focus();
            return;
          }

          note.style.display = "block";
          note.textContent =
            intentEl.value === "training"
              ? "Thanks! You’re registered for updates about " +
                ctxEl.options[ctxEl.selectedIndex].text +
                "."
              : "Thanks! You’re subscribed to " +
                ctxEl.options[ctxEl.selectedIndex].text +
                ".";

          form.reset();
          setOptions(newsletterOpts, "Choose a newsletter topic");
        });
      })();
    </script>
    <script src="script.js"></script>
  </body>
</html>